 <!DOCTYPE html>

 <html>

    <head>

        <title> bouncing cards </title>

        <style>

            #draw-zone {

                position: absolute;

            }

        </style>

    </head>

    <body>

    <canvas id="draw-zone"> </canvas>

    <img id="source" src="card1.png" style="display: none;"> </img>

        <script>

        let canvas = document.querySelector("#draw-zone");
        let context = canvas.getContext("2d");

        let Card = function(img, x, y, speed, weight, yInertia, bounceX, bounceDecrease) {

            this.img = img;
            this.x = x;
            this.y = y;
            this.speed = speed;
            this.weight = weight;
            this.yInertia = yInertia;
            this.bounceX = bounceX;
            this.bounceDecrease = bounceDecrease;

        };

        let Queen = function(img, x, y, speed, weight, yInertia, bounceX, bounceDecrease) {

            Card.call(this, img, x, y, speed, weight, yInertia, bounceX, bounceDecrease);

        };


        Queen.prototype = Object.create(Card.prototype);

        let floor = window.innerHeight - 100;

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
 //OLD CARD OBJECT
       //let Card = {
        //img: document.querySelector("#source"),
        //x:2500,
        //y:500,
        //speed: 20,
        //weight: 40,
        //yInertia: -0.2,
        //maxHeight: 100,
        //bounceX: 150,
        //bounceDecrease: 0
        //};

        Queen.prototype.drawCard = function() {

            console.log("this.bounceDecrease=" + this.bounceDecrease);
            console.log("loop works!");
            console.log("this.y=" + this.y);
            console.log("floor=" + floor);
            console.log("this.bounceX=" + this.bounceX);
            console.log("this.x=" + this.x);
            console.log("this.speed=" + this.speed);
            console.log("this.img=" + this.img);
            context.drawImage(this.img, this.x, this.y);
            document.querySelector("body").appendChild(this.img);
            this.x -= this.speed;


            if (this.y > floor) {

              console.log("bounce!");
              this.bounceX = 150 - this.bounceDecrease;
              this.bounceDecrease += 80;

              } else {

                this.bounceX -= this.speed;

            };

            if (this.bounceDecrease > 320) {

              this.y = this.y;

            } else {

              this.y -= this.weight + this.bounceX * this.yInertia * -1;

            };


            };

            let queen = new Queen(document.querySelector("#source"), 2500, 500, 20, 40, -0.2, 150, 0);

            setInterval(() => queen.drawCard(), 20);

        </script>

    </body>

 </html>
